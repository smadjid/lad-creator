{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Madjid Sadallah\\\\Documents\\\\GitHub\\\\CoGenDash\\\\lad-creator\\\\src\\\\components\\\\library\\\\visualizations_lib\\\\edit_visualization.js\",\n    _s = $RefreshSig$();\n\nimport \"../library-view.css\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Edit(props) {\n  _s();\n\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n\n  const onSubmit = data => {\n    console.log(data);\n    data[\"id\"] = props.id;\n    updateVisualization(data);\n  };\n\n  const updateVisualization = data => {\n    axios.put(\"http://localhost:3001/visualizations\", data).then(res => {\n      props.setVisualizations(props.visualizations.map(item => {\n        return item.id === props.id ? {\n          id: item.id,\n          title: item.title,\n          description: item.description,\n          class: item.class,\n          chart: item.chart\n        } : item;\n      }));\n    });\n  };\n\n  const [selectedFile, setSelectedFile] = useState(item.chart);\n\n  const imageHandler = e => {\n    const f = e.target.files[0];\n    setSelectedFile(f);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"add-visualization\",\n    onSubmit: handleSubmit(onSubmit),\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Description...\",\n      name: \"description\",\n      ...register('description', {\n        required: true\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      class: \"formselect\",\n      placeholder: \"Rating\",\n      name: \"class\",\n      ...register(\"class\", {\n        required: true\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Distribution\",\n        children: \"Distribution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Correlation\",\n        children: \"Correlation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Ranking\",\n        children: \"Ranking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Part of a Whole\",\n        children: \"Part of a Whole\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Evolution\",\n        children: \"Evolution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Map\",\n        children: \"Map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Flow\",\n        children: \"Flow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      accept: \"image/*\",\n      multiple: false,\n      onChange: imageHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"btn btn-outline-success\",\n      value: \"Update\",\n      type: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Edit, \"Qj/Dn6WtGdsjVnSs+g7BUiI5tvs=\", false, function () {\n  return [useForm];\n});\n\n_c = Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/src/components/library/visualizations_lib/edit_visualization.js"],"names":["React","useState","useForm","axios","Edit","props","register","handleSubmit","onSubmit","data","console","log","id","updateVisualization","put","then","res","setVisualizations","visualizations","map","item","title","description","class","chart","selectedFile","setSelectedFile","imageHandler","e","f","target","files","required"],"mappings":"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","sourcesContent":["import \"../library-view.css\";\nimport React, {useState} from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nexport default function Edit(props) {\n  const { register, handleSubmit } = useForm();\n  const onSubmit = (data) => {\n    console.log(data);\n    data[\"id\"] = props.id;\n    updateVisualization(data);\n  };\n\n  const updateVisualization = (data) => {\n    axios.put(\"http://localhost:3001/visualizations\", data).then((res) => {\n      props.setVisualizations(\n        props.visualizations.map((item) => {\n          return item.id === props.id\n            ? {\n                id: item.id,\n                title: item.title,\n                description: item.description,\n                class: item.class,\n                chart: item.chart,\n              }\n            : item;\n        })\n      );\n    });\n  };\n\n  const [selectedFile, setSelectedFile]=useState(item.chart);\n\n  const imageHandler =(e)=>{\n    const f = e.target.files[0];\n    setSelectedFile(f);    \n  }\n\n  return (\n    <form className=\"add-visualization\" onSubmit={handleSubmit(onSubmit)}>\n      <textarea\n        type=\"text\"\n        placeholder=\"Description...\"\n        name=\"description\"\n        {...register('description', { required: true })}\n      />\n      \n      <select\n        class=\"formselect\"\n        placeholder=\"Rating\"\n        name=\"class\"\n        {...register(\"class\", { required: true })}\n      >\n        \n        <option value=\"Distribution\">Distribution</option>\n                <option value=\"Correlation\">Correlation</option>\n                <option value=\"Ranking\">Ranking</option>\n                <option value=\"Part of a Whole\">Part of a Whole</option>\n                <option value=\"Evolution\">Evolution</option>\n                <option value=\"Map\">Map</option>\n                <option value=\"Flow\">Flow</option>\n\n      </select>\n      <b>Chart</b> \n      <input type=\"file\" name=\"image\" accept=\"image/*\" multiple={false} onChange={imageHandler} />\n\n      <input className='btn btn-outline-success' value=\"Update\" type=\"submit\" />\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}