{"ast":null,"code":"import _objectSpread from\"C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../library-view.css\";import React,{useState,useContext}from\"react\";import axios from\"axios\";import ChartUpload from\"../chart-upload\";import Modal from\"react-bootstrap/Modal\";import{Button}from\"react-bootstrap\";import{VizContext}from\"../visualizations\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var chartContext=/*#__PURE__*/React.createContext();var Actions=function Actions(props){var _useContext=useContext(VizContext),_useContext2=_slicedToArray(_useContext,2),element=_useContext2[0],setElement=_useContext2[1];var onSubmit=function onSubmit(data){alert('submit');data[\"id\"]=element.id;//data.chart = chart;\nupdateVisualization(data);};var updateVisualization=function updateVisualization(data){console.log(element.chart);return;axios.put(\"http://localhost:3001/visualizations\",data).then(function(res){props.setVisualizations(props.visualizations.map(function(item){return item.id===props.id?{id:item.id,title:item.title,description:item.description,class:item.class,chart:item.chart}:item;}));});props.updateDisplay();};return/*#__PURE__*/_jsx(_Fragment,{children:element===undefined?\" \":/*#__PURE__*/_jsxs(Modal,{show:props.show,backdrop:\"static\",keyboard:true,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",dialogClassName:\"modal-style\",scrollable:true,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:element.title})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"form\",{className:\"add-visualization\",onSubmit:onSubmit,children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-dark\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Visualization Title\",onChange:function onChange(e){return setElement(_objectSpread(_objectSpread({},element),{},{title:e.target.value}));},name:\"title\",value:element.title,required:true})}),/*#__PURE__*/_jsxs(\"td\",{rowSpan:\"4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Chart\"}),/*#__PURE__*/_jsx(ChartUpload,{})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",placeholder:\"Description...\",value:element.description,onChange:function onChange(e){return setElement(_objectSpread(_objectSpread({},element),{},{description:e.target.value}));},name:\"description\",required:true})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Class\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"formselect\",value:element.class,onChange:function onChange(e){return setElement(_objectSpread(_objectSpread({},element),{},{class:e.target.value}));},name:\"class\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Distribution\",children:\"Distribution\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Correlation\",children:\"Correlation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ranking\",children:\"Ranking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Part of a Whole\",children:\"Part of a Whole\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Evolution\",children:\"Evolution\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Map\",children:\"Map\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Flow\",children:\"Flow\"})]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary\",value:\"Submit\",type:\"submit\"})})]})]})})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",size:\"sm\",variant:\"secondary\",onClick:props.onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",size:\"sm\",variant:\"secondary\",onClick:props.onSave,children:\"Save\"})]})]})});};export default Actions;","map":{"version":3,"sources":["C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/src/components/library/visualizations_lib/visualization_actions.js"],"names":["React","useState","useContext","axios","ChartUpload","Modal","Button","VizContext","chartContext","createContext","Actions","props","element","setElement","onSubmit","data","alert","id","updateVisualization","console","log","chart","put","then","res","setVisualizations","visualizations","map","item","title","description","class","updateDisplay","undefined","show","e","target","value","onClose","onSave"],"mappings":"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","sourcesContent":["import \"../library-view.css\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport ChartUpload from \"../chart-upload\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { VizContext } from \"../visualizations\";\r\n\r\nexport const chartContext = React.createContext();\r\n\r\nconst Actions = (props) => {\r\n  const [element, setElement] = useContext(VizContext);\r\n\r\n  const onSubmit = (data) => {alert('submit');\r\n    data[\"id\"] = element.id;\r\n    //data.chart = chart;\r\n\r\n    updateVisualization(data);\r\n  };\r\n\r\n  const updateVisualization = (data) => {\r\n      console.log(element.chart);return;\r\n    axios.put(\"http://localhost:3001/visualizations\", data).then((res) => {\r\n      props.setVisualizations(\r\n        props.visualizations.map((item) => {\r\n          return item.id === props.id\r\n            ? {\r\n                id: item.id,\r\n                title: item.title,\r\n                description: item.description,\r\n                class: item.class,\r\n                chart: item.chart,\r\n              }\r\n            : item;\r\n        })\r\n      );\r\n    });\r\n    props.updateDisplay();\r\n  };\r\n\r\n\r\n\r\n  \r\n   \r\n  return (\r\n    <>\r\n      {element === undefined ? (\r\n        \" \"\r\n      ) : (\r\n        <Modal\r\n          show={props.show}\r\n          backdrop=\"static\"\r\n          keyboard={true}\r\n          size=\"lg\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          dialogClassName=\"modal-style\"\r\n          scrollable\r\n          centered\r\n        >\r\n          <Modal.Header>\r\n            <Modal.Title>{element.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form\r\n              className=\"add-visualization\"\r\n              onSubmit={onSubmit}\r\n            >\r\n              <table className=\"table table-dark\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>Name</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Visualization Title\"\r\n                        onChange={ (e) => setElement({...element, title:e.target.value} )}\r\n                        name=\"title\"\r\n                        value={element.title}\r\n                        required\r\n                      />\r\n                    </td>\r\n                    <td rowSpan=\"4\">\r\n                      <b>Chart</b>\r\n                      <ChartUpload  />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Description</td>\r\n                    <td>\r\n                      <textarea\r\n                        type=\"text\"\r\n                        placeholder=\"Description...\"\r\n                        value={element.description}\r\n                        onChange={ (e) => setElement({...element, description:e.target.value} )}\r\n                        name=\"description\"\r\n                        required\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Class</td>\r\n                    <td>\r\n                      <select\r\n                        className=\"formselect\"\r\n                        value={element.class}\r\n                        onChange={ (e) => setElement({...element, class:e.target.value} )}\r\n                        name=\"class\"\r\n                        required\r\n                      >\r\n                        <option value=\"Distribution\">Distribution</option>\r\n                        <option value=\"Correlation\">Correlation</option>\r\n                        <option value=\"Ranking\">Ranking</option>\r\n                        <option value=\"Part of a Whole\">Part of a Whole</option>\r\n                        <option value=\"Evolution\">Evolution</option>\r\n                        <option value=\"Map\">Map</option>\r\n                        <option value=\"Flow\">Flow</option>\r\n                      </select>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td>\r\n                      <input\r\n                        className=\"btn btn-primary\"\r\n                        value=\"Submit\"\r\n                        type=\"submit\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n\r\n            \r\n            </form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button type=\"button\" size=\"sm\" variant=\"secondary\" onClick={props.onClose}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" size=\"sm\" variant=\"secondary\" onClick={props.onSave}>\r\n              Save\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Actions;\r\n"]},"metadata":{},"sourceType":"module"}