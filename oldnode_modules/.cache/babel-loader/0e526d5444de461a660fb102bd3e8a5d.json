{"ast":null,"code":"import _objectSpread from\"C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../library-view.css\";import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import ChartUpload from\"../chart-upload\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddVisualization=function AddVisualization(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),chart=_React$useState2[0],setChart=_React$useState2[1];var handleChartChange=function handleChartChange(v){setChart(v);};var onSubmit=function onSubmit(data){//data.chart = chart;\naddVisualization(data);};var addVisualization=function addVisualization(data){data.chart=chart;axios.post(\"http://localhost:3001/visualizations\",data).then(function(){props.setVisualizations([].concat(_toConsumableArray(props.visualizations),[{data:data,headers:{\"Content-Type\":\"multipart/form-data\"}}]));});props.updateDisplay();};return/*#__PURE__*/_jsxs(\"form\",{className:\"add-visualization\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Define a new type of visualizations\"}),/*#__PURE__*/_jsx(\"table\",{className:\"table table-dark\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",placeholder:\"Visualization Title\",name:\"title\"},register(\"title\",{required:true})))}),/*#__PURE__*/_jsxs(\"td\",{rowSpan:\"4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Chart\"}),/*#__PURE__*/_jsx(ChartUpload,{onChartChange:handleChartChange})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",_objectSpread({type:\"text\",placeholder:\"Description...\",name:\"description\"},register(\"description\",{required:true})))})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Class\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({className:\"formselect\",placeholder:\"Rating\",name:\"class\"},register(\"class\",{required:true})),{},{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Distribution\",children:\"Distribution\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Correlation\",children:\"Correlation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ranking\",children:\"Ranking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Part of a Whole\",children:\"Part of a Whole\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Evolution\",children:\"Evolution\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Map\",children:\"Map\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Flow\",children:\"Flow\"})]}))})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary\",value:\"Submit\",type:\"submit\"})})]})]})})]});};export default AddVisualization;","map":{"version":3,"sources":["C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/src/components/library/visualizations_lib/add_visualization.js"],"names":["React","useState","useForm","axios","ChartUpload","AddVisualization","props","selectedFile","setSelectedFile","register","handleSubmit","chart","setChart","handleChartChange","v","onSubmit","data","addVisualization","post","then","setVisualizations","visualizations","headers","updateDisplay","required"],"mappings":"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","sourcesContent":["import \"../library-view.css\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport ChartUpload from \"../chart-upload\";\n\nconst AddVisualization = (props) => {\n  const [selectedFile, setSelectedFile] = useState();\n\n  const { register, handleSubmit } = useForm();\n  const [chart, setChart] = React.useState(\"\");\n\n  const handleChartChange = (v) => {\n    setChart(v);\n  };\n  const onSubmit = (data) => {\n    //data.chart = chart;\n    addVisualization(data);\n  };\n\n  const addVisualization = (data) => {\n    data.chart = chart;\n    axios.post(\"http://localhost:3001/visualizations\", data).then(() => {\n      props.setVisualizations([\n        ...props.visualizations,\n        {\n          data: data,\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        },\n      ]);\n    });\n    props.updateDisplay();\n  };  \n\n  return (\n    \n    <form className=\"add-visualization\" onSubmit={handleSubmit(onSubmit)}>\n      <h4>Define a new type of visualizations</h4>\n      \n      <table className=\"table table-dark\">\n        <tbody>\n          <tr>\n            <td>Name</td>\n            <td>\n              <input\n                type=\"text\"\n                placeholder=\"Visualization Title\"\n                name=\"title\"\n                {...register(\"title\", { required: true })}\n              />\n            </td>\n            <td rowSpan=\"4\">\n              <b>Chart</b>\n              <ChartUpload onChartChange={handleChartChange} />\n            </td>\n          </tr>\n          <tr>\n            <td>Description</td>\n            <td>\n              <textarea\n                type=\"text\"\n                placeholder=\"Description...\"\n                name=\"description\"\n                {...register(\"description\", { required: true })}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>Class</td>\n            <td>\n              <select\n                className=\"formselect\"\n                placeholder=\"Rating\"\n                name=\"class\"\n                {...register(\"class\", { required: true })}\n              >\n                <option value=\"Distribution\">Distribution</option>\n                <option value=\"Correlation\">Correlation</option>\n                <option value=\"Ranking\">Ranking</option>\n                <option value=\"Part of a Whole\">Part of a Whole</option>\n                <option value=\"Evolution\">Evolution</option>\n                <option value=\"Map\">Map</option>\n                <option value=\"Flow\">Flow</option>\n              </select>\n            </td>\n          </tr>\n          <tr>\n            <td></td>\n            <td>\n              <input className=\"btn btn-primary\" value=\"Submit\" type=\"submit\" />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </form>\n  );\n};\nexport default AddVisualization;\n"]},"metadata":{},"sourceType":"module"}