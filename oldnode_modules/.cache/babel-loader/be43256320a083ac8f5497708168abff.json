{"ast":null,"code":"import _objectSpread from\"C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../library-view.css\";import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import ChartUpload from\"../chart-upload\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Edit(props){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var onSubmit=function onSubmit(data){data[\"id\"]=props.id;data.chart=chart;updateVisualization(data);};var updateVisualization=function updateVisualization(data){axios.put(\"http://localhost:3001/visualizations\",data).then(function(res){props.setVisualizations(props.visualizations.map(function(item){return item.id===props.id?{id:item.id,title:item.title,description:item.description,class:item.class,chart:item.chart}:item;}));});props.updateDisplay();};var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),chart=_React$useState2[0],setChart=_React$useState2[1];var handleChartChange=function handleChartChange(v){setChart(v);};return/*#__PURE__*/_jsxs(\"form\",{className:\"add-visualization\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"textarea\",_objectSpread({type:\"text\",placeholder:\"Description...\",name:\"description\",value:props.element.description},register(\"description\",{required:true}))),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({class:\"formselect\",placeholder:\"Rating\",name:\"class\",value:props.element.class},register(\"class\",{required:true})),{},{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Distribution\",children:\"Distribution\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Correlation\",children:\"Correlation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ranking\",children:\"Ranking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Part of a Whole\",children:\"Part of a Whole\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Evolution\",children:\"Evolution\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Map\",children:\"Map\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Flow\",children:\"Flow\"})]})),/*#__PURE__*/_jsx(\"b\",{children:\"Chart\"}),/*#__PURE__*/_jsx(ChartUpload,{onChartChange:handleChartChange}),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-outline-success\",value:\"Update\",type:\"submit\"})]});}","map":{"version":3,"sources":["C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/src/components/library/visualizations_lib/edit_visualization.js"],"names":["React","useState","useForm","axios","ChartUpload","Edit","props","register","handleSubmit","onSubmit","data","id","chart","updateVisualization","put","then","res","setVisualizations","visualizations","map","item","title","description","class","updateDisplay","setChart","handleChartChange","v","element","required"],"mappings":"mSAAA,MAAO,qBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,C,wFAGA,cAAe,SAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CAClC,aAAmCJ,OAAO,EAA1C,CAAQK,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CACzBA,IAAI,CAAC,IAAD,CAAJ,CAAaJ,KAAK,CAACK,EAAnB,CACAD,IAAI,CAACE,KAAL,CAAaA,KAAb,CAEAC,mBAAmB,CAACH,IAAD,CAAnB,CACD,CALD,CAOA,GAAMG,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACH,IAAD,CAAU,CACpCP,KAAK,CAACW,GAAN,CAAU,sCAAV,CAAkDJ,IAAlD,EAAwDK,IAAxD,CAA6D,SAACC,GAAD,CAAS,CACpEV,KAAK,CAACW,iBAAN,CACEX,KAAK,CAACY,cAAN,CAAqBC,GAArB,CAAyB,SAACC,IAAD,CAAU,CACjC,MAAOA,CAAAA,IAAI,CAACT,EAAL,GAAYL,KAAK,CAACK,EAAlB,CACH,CACEA,EAAE,CAAES,IAAI,CAACT,EADX,CAEEU,KAAK,CAAED,IAAI,CAACC,KAFd,CAGEC,WAAW,CAAEF,IAAI,CAACE,WAHpB,CAIEC,KAAK,CAAEH,IAAI,CAACG,KAJd,CAKEX,KAAK,CAAEQ,IAAI,CAACR,KALd,CADG,CAQHQ,IARJ,CASD,CAVD,CADF,EAaD,CAdD,EAeAd,KAAK,CAACkB,aAAN,GACD,CAjBD,CAmBA,oBAA0BxB,KAAK,CAACC,QAAN,CAAe,IAAf,CAA1B,oDAAOW,KAAP,qBAAca,QAAd,qBAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC/BF,QAAQ,CAACE,CAAD,CAAR,CACD,CAFD,CAIA,mBACE,cAAM,SAAS,CAAC,mBAAhB,CAAoC,QAAQ,CAAEnB,YAAY,CAACC,QAAD,CAA1D,wBACE,+BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,gBAFd,CAGE,IAAI,CAAC,aAHP,CAIE,KAAK,CAAEH,KAAK,CAACsB,OAAN,CAAcN,WAJvB,EAKMf,QAAQ,CAAC,aAAD,CAAgB,CAAEsB,QAAQ,CAAE,IAAZ,CAAhB,CALd,EADF,cASE,4CACE,KAAK,CAAC,YADR,CAEE,WAAW,CAAC,QAFd,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAEvB,KAAK,CAACsB,OAAN,CAAcL,KAJvB,EAKMhB,QAAQ,CAAC,OAAD,CAAU,CAAEsB,QAAQ,CAAE,IAAZ,CAAV,CALd,6BAOE,eAAQ,KAAK,CAAC,cAAd,0BAPF,cAQE,eAAQ,KAAK,CAAC,aAAd,yBARF,cASE,eAAQ,KAAK,CAAC,SAAd,qBATF,cAUE,eAAQ,KAAK,CAAC,iBAAd,6BAVF,cAWE,eAAQ,KAAK,CAAC,WAAd,uBAXF,cAYE,eAAQ,KAAK,CAAC,KAAd,iBAZF,cAaE,eAAQ,KAAK,CAAC,MAAd,kBAbF,IATF,cAwBE,4BAxBF,cAyBE,KAAC,WAAD,EAAa,aAAa,CAAEH,iBAA5B,EAzBF,cA0BE,cAAO,SAAS,CAAC,yBAAjB,CAA2C,KAAK,CAAC,QAAjD,CAA0D,IAAI,CAAC,QAA/D,EA1BF,GADF,CA8BD","sourcesContent":["import \"../library-view.css\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport ChartUpload from \"../chart-upload\";\n\n\nexport default function Edit(props) {\n  const { register, handleSubmit } = useForm();\n  \n  const onSubmit = (data) => {\n    data[\"id\"] = props.id;\n    data.chart = chart;\n    \n    updateVisualization(data);\n  };\n\n  const updateVisualization = (data) => {\n    axios.put(\"http://localhost:3001/visualizations\", data).then((res) => {\n      props.setVisualizations(\n        props.visualizations.map((item) => {\n          return item.id === props.id\n            ? {\n                id: item.id,\n                title: item.title,\n                description: item.description,\n                class: item.class,\n                chart: item.chart,\n              }\n            : item;\n        })\n      );\n    });\n    props.updateDisplay();\n  };\n\n  const [chart, setChart] = React.useState(null);\n\n  const handleChartChange = (v) => {\n    setChart(v);\n  };\n\n  return (\n    <form className=\"add-visualization\" onSubmit={handleSubmit(onSubmit)}>\n      <textarea\n        type=\"text\"\n        placeholder=\"Description...\"\n        name=\"description\"\n        value={props.element.description}\n        {...register(\"description\", { required: true })}\n      />\n\n      <select\n        class=\"formselect\"\n        placeholder=\"Rating\"\n        name=\"class\"\n        value={props.element.class}\n        {...register(\"class\", { required: true })}\n      >\n        <option value=\"Distribution\">Distribution</option>\n        <option value=\"Correlation\">Correlation</option>\n        <option value=\"Ranking\">Ranking</option>\n        <option value=\"Part of a Whole\">Part of a Whole</option>\n        <option value=\"Evolution\">Evolution</option>\n        <option value=\"Map\">Map</option>\n        <option value=\"Flow\">Flow</option>\n      </select>\n      <b>Chart</b>\n      <ChartUpload onChartChange={handleChartChange} />\n      <input className=\"btn btn-outline-success\" value=\"Update\" type=\"submit\" />\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}