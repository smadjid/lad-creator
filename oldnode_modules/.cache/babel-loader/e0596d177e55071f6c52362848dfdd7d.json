{"ast":null,"code":"import\"./library-view.css\";import React from\"react\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Edit(props){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var onSubmit=function onSubmit(data){console.log(data);data[\"id\"]=props.id;updateReview(data);};var updateReview=function updateReview(data){axios.put(\"https://ravenbooks.herokuapp.com/reviews\",data).then(function(res){props.setReviews(props.reviews.map(function(item){return item.id===props.id?{id:item.id,book_title:item.book_title,book_review:item.book_review,book_rating:item.book_rating}:item;}));});};return/*#__PURE__*/_jsxs(\"form\",{className:\"add-review\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Edit Review\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Review\",name:\"book_review\",ref:register({required:true,maxLength:450})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Rating\",name:\"book_rating\",ref:register({required:true,max:5,min:0})}),/*#__PURE__*/_jsx(\"input\",{id:\"btn\",type:\"submit\"})]});}","map":{"version":3,"sources":["C:/Users/Madjid Sadallah/Documents/GitHub/CoGenDash/lad-creator/src/components/library/Edit.js"],"names":["React","useForm","axios","Edit","props","register","handleSubmit","onSubmit","data","console","log","id","updateReview","put","then","res","setReviews","reviews","map","item","book_title","book_review","book_rating","required","maxLength","max","min"],"mappings":"AAAA,MAAO,oBAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CAClC,aAAmCH,OAAO,EAA1C,CAAQI,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CACzBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAA,IAAI,CAAC,IAAD,CAAJ,CAAaJ,KAAK,CAACO,EAAnB,CACAC,YAAY,CAACJ,IAAD,CAAZ,CACD,CAJD,CAMA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,IAAD,CAAU,CAC7BN,KAAK,CAACW,GAAN,CAAU,0CAAV,CAAsDL,IAAtD,EAA4DM,IAA5D,CAAiE,SAACC,GAAD,CAAS,CACxEX,KAAK,CAACY,UAAN,CACEZ,KAAK,CAACa,OAAN,CAAcC,GAAd,CAAkB,SAACC,IAAD,CAAU,CAC1B,MAAOA,CAAAA,IAAI,CAACR,EAAL,GAAYP,KAAK,CAACO,EAAlB,CACH,CACEA,EAAE,CAAEQ,IAAI,CAACR,EADX,CAEES,UAAU,CAAED,IAAI,CAACC,UAFnB,CAGEC,WAAW,CAAEF,IAAI,CAACE,WAHpB,CAIEC,WAAW,CAAEH,IAAI,CAACG,WAJpB,CADG,CAOHH,IAPJ,CAQD,CATD,CADF,EAYD,CAbD,EAcD,CAfD,CAiBA,mBACE,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAEb,YAAY,CAACC,QAAD,CAAnD,wBACE,mCADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,QAFd,CAGE,IAAI,CAAC,aAHP,CAIE,GAAG,CAAEF,QAAQ,CAAC,CAAEkB,QAAQ,CAAE,IAAZ,CAAkBC,SAAS,CAAE,GAA7B,CAAD,CAJf,EAFF,cAQE,cACE,IAAI,CAAC,QADP,CAEE,WAAW,CAAC,QAFd,CAGE,IAAI,CAAC,aAHP,CAIE,GAAG,CAAEnB,QAAQ,CAAC,CAAEkB,QAAQ,CAAE,IAAZ,CAAkBE,GAAG,CAAE,CAAvB,CAA0BC,GAAG,CAAE,CAA/B,CAAD,CAJf,EARF,cAeE,cAAO,EAAE,CAAC,KAAV,CAAgB,IAAI,CAAC,QAArB,EAfF,GADF,CAmBD","sourcesContent":["import \"./library-view.css\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nexport default function Edit(props) {\n  const { register, handleSubmit } = useForm();\n  const onSubmit = (data) => {\n    console.log(data);\n    data[\"id\"] = props.id;\n    updateReview(data);\n  };\n\n  const updateReview = (data) => {\n    axios.put(\"https://ravenbooks.herokuapp.com/reviews\", data).then((res) => {\n      props.setReviews(\n        props.reviews.map((item) => {\n          return item.id === props.id\n            ? {\n                id: item.id,\n                book_title: item.book_title,\n                book_review: item.book_review,\n                book_rating: item.book_rating,\n              }\n            : item;\n        })\n      );\n    });\n  };\n\n  return (\n    <form className=\"add-review\" onSubmit={handleSubmit(onSubmit)}>\n      <h4>Edit Review</h4>\n      <input\n        type=\"text\"\n        placeholder=\"Review\"\n        name=\"book_review\"\n        ref={register({ required: true, maxLength: 450 })}\n      />\n      <input\n        type=\"number\"\n        placeholder=\"Rating\"\n        name=\"book_rating\"\n        ref={register({ required: true, max: 5, min: 0 })}\n      />\n\n      <input id=\"btn\" type=\"submit\" />\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}